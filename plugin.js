!function(){"use strict";var t,e,n,o,i;!function(t){t.VALUE_CHANGED="VALUE_CHANGED",t.STATE_CHANGED="STATE_CHANGED"}(t||(t={})),function(t){t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.VALUE_TO_CHANGED="STATE_TO_CHANGED"}(e||(e={})),function(t){t.VALUE_TO="VALUE_TO",t.VALUE_FROM="VALUE_FROM",t.KNOB_VALUE_TO_CHANGED="KNOB_VALUE_TO_CHANGED",t.KNOB_VALUE_FROM_CHANGED="KNOB_VALUE_FROM_CHANGED"}(n||(n={})),function(t){t.SCALE_VALUE_TO_CHANGED="SCALE_VALUE_TO_CHANGED",t.SCALE_VALUE_FROM_CHANGED="SCALE_VALUE_FROM_CHANGED",t.TARGET_TRIGGERED="TARGET_TRIGGERED",t.TARGET_MAX_VALUE_TRIGGERED="TARGET_MAX_VALUE_TRIGGERED"}(o||(o={})),function(t){t.LABELS_VALUE_TO_CHANGED="LABELS_VALUE_TO_CHANGED",t.LABELS_VALUE_FROM_CHANGED="LABELS_VALUE_FROM_CHANGED"}(i||(i={}));var r,s,a={min:0,max:100,step:1,valueFrom:50,valueTo:75,orientation:"horizontal",isRange:!1,hasFill:!0,hasLabels:!0,hasTooltips:!0,color:"orange"},l=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},u=function(){function t(){this.observers={}}return t.prototype.emit=function(t,e){var n;null===(n=this.observers[t])||void 0===n||n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this.observers[t]||[];this.observers[t]=l(l([],n,!0),[e],!1)},t}(),c=function(t,e){var n=t.min,o=t.max,i=t.step,r=(e-n)/i*(100/((o-n)/i));return r>100?100:r<0?0:r},p=function(t,e,n,o){var i=100/((e-t)/n),r=Math.round(o/i)*n+t;return o>=100?o*r:r},h=function(t){return["orange","green"].includes(t)},f=function(t){return["vertical","horizontal"].includes(t)},d=function(){return d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},d.apply(this,arguments)},_=function(){function t(){}return t.prototype.checkState=function(t){var e=t.min,n=t.max,o=t.step,i=t.valueFrom,r=t.valueTo;return this.min=e,this.max=n,this.step=o,this.valueFrom=i,this.valueTo=r,this.checkMinMax(this.min,this.max),this.step=this.checkStep(this.min,this.max,this.step),t.isRange&&(this.checkMinRange(this.valueFrom),this.checkMaxRange(this.valueTo),this.checkRangeMinMax(this.valueFrom,this.valueTo)),d(d({},t),{min:this.min,max:this.max,step:this.step,valueFrom:this.checkValue(this.valueFrom),valueTo:this.valueTo})},t.prototype.checkValue=function(t){var e=c({min:this.min,max:this.max,step:this.step},t),n=p(this.min,this.max,this.step,e);return e>=100&&n!==this.max||n>this.max?this.max:n},t.prototype.checkMinRange=function(t){return t>=this.valueTo&&(t=this.valueTo),this.checkValue(t)},t.prototype.checkMaxRange=function(t){return t<=this.valueFrom&&(t=this.valueFrom),this.checkValue(t)},t.prototype.checkStep=function(t,e,n){var o=e-t,i=Math.round(n);return i<=0||0===e?a.step:i>o?o:i},t.prototype.checkMinMax=function(t,e){var n,o=Math.round(t),i=Math.round(e);o===i&&(i+=1),o>=i&&(n=o,o=i,i=n),this.min=o,this.max=i},t.prototype.checkRangeMinMax=function(t,e){var n;t>=e&&(n=t,t=e,e=n),t<=this.min&&(t=this.min),e>=this.max&&(e=this.max),this.valueFrom=this.checkValue(t),this.valueTo=this.checkValue(e)},t}(),v=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(){return E=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},E.apply(this,arguments)},y=function(e){function n(t){var n=e.call(this)||this;return n.state=a,n.validation=new _,n.setState(t),n}return v(n,e),n.prototype.setState=function(e){var n=E(E({},this.state),e);this.state=E(E({},n),this.validation.checkState(n)),this.emit(t.STATE_CHANGED,this.state)},n.prototype.getState=function(){return this.state},n.prototype.getValue=function(t){return this.state[t]},n.prototype.setValue=function(e,n){this.checkStateValue(e,n),this.state=E(E({},this.state),this.validation.checkState(this.state)),this.isValue(e)?this.emit(t.VALUE_CHANGED,this.state):this.emit(t.STATE_CHANGED,this.state)},n.prototype.checkStateValue=function(t,e){var n=this.state.isRange,o="number"==typeof e,i="valueFrom"===t&&o,r="valueTo"===t&&o;"valueFrom"===t&&n&&o?this.state.valueFrom=this.validation.checkMinRange(e):i?this.state.valueFrom=this.validation.checkValue(e):r?this.state.valueTo=this.validation.checkMaxRange(e):this.state[t]=e},n.prototype.isValue=function(t){return"valueFrom"===t||"valueTo"===t},n}(u),m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(t){function e(e,n,o){var i=t.call(this)||this;return i.root=n,i.state=e,i.target=o,i}return m(e,t),e.prototype.update=function(t){if(!t)throw new Error("The state for updating is not transferred")},e.prototype.getCoords=function(t){var e=t.getBoundingClientRect().left,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().right,i=t.getBoundingClientRect().bottom;return{left:e+window.pageXOffset,bottom:i+window.pageYOffset,width:o-e,height:i-n}},e.prototype.getPageCoords=function(t){return{pageX:t.pageX,pageY:t.pageY}},e.prototype.getPosition=function(t,e,n){var o="horizontal"===t;if(null===e)return 50;var i=n.pageX,r=n.pageY,s=e.left,a=e.bottom,l=e.width,u=e.height;return o?(i-s)/l*100:(a-r)/u*100},e}(u),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fill=function(t){function Fill(){return null!==t&&t.apply(this,arguments)||this}return A(Fill,t),Fill.prototype.init=function(){this.fill=this.root.querySelector(".js-slider__fill")},Fill.prototype.update=function(t){var e=t.orientation,n=t.isRange,o=t.valueTo,i=t.valueFrom,r="horizontal"===e,s=r?"width":"height",a=r?"left":"bottom",l=c(t,i);if(this.fill&&n){var u=c(t,o);this.fill.style[s]=u-l+"%",this.fill.style[a]=l+"%"}else this.fill&&(this.fill.style[s]=l+"%")},Fill.getTemplate=function(t,e){return'\n      <div\n        class="slider__fill\n        js-slider__fill\n        slider__fill_'+(f(e)?e:"horizontal")+"\n        slider__fill_"+(h(t)?t:"orange")+'\n        "data-id="fill"\n      ></div>\n    '},Fill}(b),g=Fill,T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tooltip=function(t){function Tooltip(){return null!==t&&t.apply(this,arguments)||this}return T(Tooltip,t),Tooltip.prototype.init=function(){this.tooltipValueFirst=this.root.querySelector('[data-id="tooltip-value-first"]'),this.tooltipValueSecond=this.root.querySelector('[data-id="tooltip-value-second"]')},Tooltip.prototype.update=function(t){var e=this.state.orientation;this.tooltipValueFirst&&(this.tooltipValueFirst.innerText=""+t.valueFrom);var n=this.root.querySelector('[data-id="tooltip-first"]'),o=this.root.querySelector('[data-id="tooltip-second"]'),i=this.getTooltipsCoords();if(i){var r=i.firstRight,s=i.firstTop,a=i.secondLeft,l=i.secondBottom;n&&o&&this.tooltipValueSecond?("horizontal"===e&&r>=a||"vertical"===e&&l>=s)&&this.tooltipValueSecond?(n.style.visibility="hidden",this.tooltipValueSecond.innerText=t.valueFrom+" – "+t.valueTo,null==o||o.classList.add("slider__tooltip_double")):this.tooltipValueSecond&&(n.style.visibility="visible",this.tooltipValueSecond.innerText=""+t.valueTo):this.tooltipValueSecond&&(this.tooltipValueSecond.innerText=""+t.valueTo)}},Tooltip.prototype.getTooltipsCoords=function(){var t=this.root.querySelector('[data-id="tooltip-first"]'),e=this.root.querySelector('[data-id="tooltip-second"]');return t&&e?{firstRight:null==t?void 0:t.getBoundingClientRect().right,firstTop:null==t?void 0:t.getBoundingClientRect().top,secondLeft:null==e?void 0:e.getBoundingClientRect().left,secondBottom:null==e?void 0:e.getBoundingClientRect().bottom}:null},Tooltip.getTemplate=function(t,e,n){var o=n===s.simple?"tooltip-first":"tooltip-second",i=n===s.simple?"tooltip-value-first":"tooltip-value-second";return'\n      <div class="slider__tooltip\n        slider__tooltip_'+(f(t)?t:"horizontal")+"\n        slider__tooltip_"+(h(e)?e:"orange")+'"\n        data-id="'+o+'"\n      >\n        <span class="tooltip__value" data-id="'+i+'"></span>\n        <div class="slider__tooltip_arrow '+("vertical"===t?"slider__tooltip_arrow_vertical":"")+'"></div>\n      </div>\n    '},Tooltip}(b),L=Tooltip,O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(){return w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},w.apply(this,arguments)},Knob=function(t){function Knob(){return null!==t&&t.apply(this,arguments)||this}return O(Knob,t),Knob.prototype.init=function(){this.scale=this.root.querySelector(".js-slider__scale"),this.valueFrom=this.root.querySelector('[data-id="knob"]'),this.valueTo=this.root.querySelector('[data-id="second-knob"]'),this.state.hasTooltips&&this.addTooltips(),this.valueFrom&&(this.valueFrom.addEventListener("pointerdown",this.handleFirstKnobPointerDown.bind(this)),this.valueFrom.addEventListener("keydown",this.handleFirstKnobKeyDown.bind(this))),this.valueTo&&(this.valueTo.addEventListener("pointerdown",this.handleSecondKnobPointerDown.bind(this)),this.valueTo.addEventListener("keydown",this.handleSecondKnobKeyDown.bind(this)))},Knob.prototype.update=function(t){this.currentState=w({},t);var e=this.target===s.simple?"valueFrom":"valueTo",n="horizontal"===this.state.orientation?"left":"bottom",o=t[e],i="valueFrom"===e,r="valueTo"===e;this.valueFrom&&i&&(this.valueFrom.style[n]=c(t,Number(o))+"%"),this.valueTo&&r&&(this.valueTo.style[n]=c(t,Number(o))+"%")},Knob.prototype.handleFirstKnobPointerDown=function(){this.handleKnobPointerDown(n.KNOB_VALUE_FROM_CHANGED)},Knob.prototype.handleSecondKnobPointerDown=function(){this.handleKnobPointerDown(n.KNOB_VALUE_TO_CHANGED)},Knob.prototype.handleKnobPointerDown=function(t){var e=this,o=this.currentState,i=o.min,r=o.max,s=o.step,a=o.orientation,l=t===n.KNOB_VALUE_FROM_CHANGED?"1":"0",u=function(n){n.preventDefault(),e.valueFrom&&(e.valueFrom.ondragstart=function(){return!1},e.valueFrom.style.zIndex=l),e.valueFrom&&e.valueTo&&(e.valueTo.ondragstart=function(){return!1},e.valueFrom.style.zIndex=l);var o=e.scale?e.getCoords(e.scale):null,u=e.getPageCoords(n),c=e.getPosition(a,o,u),h=p(i,r,s,c);e.emit(t,h.toFixed())},c=function(){document.removeEventListener("pointerup",c),document.removeEventListener("pointermove",u)};document.addEventListener("pointermove",u),document.addEventListener("pointerup",c)},Knob.prototype.handleFirstKnobKeyDown=function(t){this.handleKnobKeyDown(t,n.KNOB_VALUE_FROM_CHANGED)},Knob.prototype.handleSecondKnobKeyDown=function(t){this.handleKnobKeyDown(t,n.KNOB_VALUE_TO_CHANGED)},Knob.prototype.handleKnobKeyDown=function(t,e){var o=e===n.KNOB_VALUE_FROM_CHANGED?"valueFrom":"valueTo",i=this.currentState[o],r=this.currentState.step,s=t.code;if("ArrowRight"===s||"ArrowUp"===s){var a=Number(i)+r;this.emit(e,a)}if("ArrowLeft"===s||"ArrowDown"===s){a=Number(i)-r;this.emit(e,a)}},Knob.prototype.addTooltips=function(){var t,e,n=this.state,o=n.color,i=n.orientation,r=null===(t=this.valueFrom)||void 0===t?void 0:t.querySelector('[data-id="tooltip-first"]'),a=null===(e=this.valueTo)||void 0===e?void 0:e.querySelector('[data-id="tooltip-second"]');this.valueFrom&&!r&&this.valueFrom.insertAdjacentHTML("afterbegin",L.getTemplate(i,o,s.simple)),this.valueTo&&!a&&this.valueTo.insertAdjacentHTML("afterbegin",L.getTemplate(i,o,s.range))},Knob.getTemplate=function(t,e,n){var o="knob",i=f(e)?e:"horizontal",r=h(t)?t:"orange";return n===s.range&&(o="second-knob"),'\n      <div\n        class="slider__knob\n        slider__knob_'+i+"\n        slider__knob_"+r+'" \n        data-id='+o+'\n        role="slider"\n        tabindex="0"\n      ></div>\n    '},Knob}(b),C=Knob,S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Labels=function(t){function Labels(){return null!==t&&t.apply(this,arguments)||this}return S(Labels,t),Labels.prototype.init=function(){if(this.state.hasLabels){var t=this.root.querySelector(".js-slider__labels");t&&t.addEventListener("pointerdown",this.handleLabelsPointerDown.bind(this))}},Labels.prototype.handleLabelsPointerDown=function(t){if(t.target instanceof HTMLElement){var e=this.state,n=e.min,o=e.max,r=e.step,s=e.valueFrom,a=e.valueTo,l=e.isRange,u=Number(t.target.dataset.value),c=p(n,o,r,u);if(100===u&&(c=o),l)c>=s+(a-s)/2?this.emit(i.LABELS_VALUE_TO_CHANGED,c):this.emit(i.LABELS_VALUE_FROM_CHANGED,c);else this.emit(i.LABELS_VALUE_FROM_CHANGED,c)}},Labels.getTemplate=function(t,e,n,o){return'\n      <div class="slider__labels\n        js-slider__labels\n        slider__labels_'+(f(t)?t:"horizontal")+'"\n        data-id="labels"\n      >\n        '+this.getLabels(t,e,n,o)+"\n      </div>\n    "},Labels.getLabels=function(t,e,n,o){var i=this,r=[],s=[20,40,60,80];return(s=s.map((function(t){return p(e,n,o,t)})).concat(e,n).sort((function(t,e){return t-e}))).forEach((function(s){r.push(i.createLabel(t,s,e,n,o))})),r.join("")},Labels.createLabel=function(t,e,n,o,i){var r="horizontal"===t?"left":"bottom",s=c({min:n,max:o,step:i},e).toFixed(2);return'\n      <div class="slider__labels-item" \n        style="'+r+": "+s+'%;"\n        data-value='+s+">\n        "+e+"\n      </div>\n    "},Labels}(b),V=Labels,D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Scale=function(t){function Scale(){return null!==t&&t.apply(this,arguments)||this}return D(Scale,t),Scale.prototype.init=function(){this.root.innerHTML="",this.root.insertAdjacentHTML("afterbegin",this.getTemplate()),this.scaleNode=this.root.querySelector(".js-slider__scale"),this.addScaleElements()},Scale.prototype.handleScalePointerDown=function(t){if(this.isTarget(t)){var e=this.state,n=e.min,i=e.max,r=e.valueFrom,s=e.valueTo,a=e.step,l=e.orientation,u=e.isRange,c=this.scaleNode?this.getCoords(this.scaleNode):null,h=this.getPageCoords(t),f=this.getPosition(l,c,h),d=p(n,i,a,f);if(u)d>=r+(s-r)/2?(this.emit(o.SCALE_VALUE_TO_CHANGED,d.toFixed()),this.emit(o.TARGET_MAX_VALUE_TRIGGERED,t)):(this.emit(o.SCALE_VALUE_FROM_CHANGED,d.toFixed()),this.emit(o.TARGET_TRIGGERED,t));else this.emit(o.SCALE_VALUE_FROM_CHANGED,d.toFixed()),this.emit(o.TARGET_TRIGGERED,t)}},Scale.prototype.getScaleNode=function(){return this.scaleNode},Scale.prototype.addScaleElements=function(){var t=this.state,e=t.color,n=t.orientation,o=t.hasFill,i=t.isRange,r=t.hasLabels,a=t.min,l=t.max,u=t.step;this.scaleNode&&(this.scaleNode.addEventListener("pointerdown",this.handleScalePointerDown.bind(this)),this.scaleNode.insertAdjacentHTML("beforeend",C.getTemplate(e,n,s.simple)),o&&this.scaleNode.insertAdjacentHTML("afterbegin",g.getTemplate(e,n)),i&&this.scaleNode.insertAdjacentHTML("beforeend",C.getTemplate(e,n,s.range)),r&&this.scaleNode.insertAdjacentHTML("beforeend",V.getTemplate(n,a,l,u)))},Scale.prototype.isTarget=function(t){if(t.target instanceof HTMLElement)return"scale"===t.target.dataset.id||"fill"===t.target.dataset.id},Scale.prototype.getTemplate=function(){var t=this.state.orientation,e=f(t)?t:"horizontal";return'\n      <div class="slider slider_'+e+'">\n        <div\n          class="slider__scale\n          js-slider__scale\n          slider__scale_'+e+'"\n          data-id="scale"\n        ></div>\n      </div>\n    '},Scale}(b),N=Scale;!function(t){t[t.simple=0]="simple",t[t.range=1]="range"}(s||(s={}));var R=function(){function t(){}return t.prototype.createComponents=function(t,e,n){var o={};return[N,g,C,V,L].forEach((function(n){var i,r=new n(t,e,s.simple),a=(i=r.constructor.name)[0].toLowerCase()+i.slice(1);o[a]=r})),n===s.range&&(o.secondKnob=new C(t,e,s.range),o.secondTooltip=new L(t,e,s.range)),o},t}(),F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),G=function(t){function r(e,n){var o=t.call(this)||this;return o.root=e,o.init(n),o}return F(r,t),r.prototype.init=function(t){this.type=t.isRange?s.range:s.simple;var e=new R;this.components=e.createComponents(t,this.root,this.type),this.displaySlider(),this.bindEvents(),this.update(t)},r.prototype.update=function(t){Object.values(this.components).forEach((function(e){e&&e.update(t)}))},r.prototype.displaySlider=function(){Object.values(this.components).forEach((function(t){t&&t.init()}))},r.prototype.bindEvents=function(){this.bindScaleEvents(),this.bindKnobsEvents(),this.bindLabelsEvents()},r.prototype.bindScaleEvents=function(){var t=this;this.components.scale&&(this.components.scale.subscribe(o.SCALE_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),this.components.scale.subscribe(o.SCALE_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)})),this.components.scale.subscribe(o.TARGET_TRIGGERED,(function(){t.components.knob&&t.components.knob.handleFirstKnobPointerDown()})),this.components.scale.subscribe(o.TARGET_MAX_VALUE_TRIGGERED,(function(){"secondKnob"in t.components&&t.components.secondKnob.handleSecondKnobPointerDown()})))},r.prototype.bindKnobsEvents=function(){var t=this;this.components.knob&&this.components.knob.subscribe(n.KNOB_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),this.type===s.range&&"secondKnob"in this.components&&this.components.secondKnob.subscribe(n.KNOB_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)}))},r.prototype.bindLabelsEvents=function(){var t=this;this.components.labels&&(this.components.labels.subscribe(i.LABELS_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),this.components.labels.subscribe(i.LABELS_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)})))},r}(u),H=function(){function n(t,e){this.root=t,this.model=new y(e),this.view=new G(t,this.model.getState()),this.bindModelEvents(),this.bindViewEvents()}return n.prototype.bindModelEvents=function(){var e=this;this.model.subscribe(t.STATE_CHANGED,(function(t){e.view.init(t),e.customEvent()})),this.model.subscribe(t.VALUE_CHANGED,(function(t){e.view.update(t),e.customEvent()}))},n.prototype.bindViewEvents=function(){var t=this;this.view.subscribe(e.VALUE_FROM_CHANGED,(function(e){t.model.setValue("valueFrom",Number(e))})),this.view.subscribe(e.VALUE_TO_CHANGED,(function(e){t.model.setValue("valueTo",Number(e))}))},n.prototype.customEvent=function(){this.root.dispatchEvent(new CustomEvent("onChange",{detail:this.model.getState()}))},n}(),M=function(){return M=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},M.apply(this,arguments)},U={init:function(t){return this.each((function(){if("object"==typeof t){var e=M(M({},a),t);$(this).data().sliderPlugin=new H(this,e)}}))},getState:function(){return $(this).data("sliderPlugin").model.getState()},setValue:function(t,e){$(this).data("sliderPlugin").model.setValue(""+t,e)},onChange:function(t){$(this).on("onChange",(function(e){return t(e)}))}};$.fn.sliderPlugin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],o=t.slice(1),i="string"==typeof n,r="object"==typeof n||!n;if(i)return U[n].apply(this,o);if(r){var s=n||{};return U.init.call(this,s)}$.error("Метод с именем "+n+" не существует")}}();