!function(){"use strict";var t,e,o,n,i;!function(t){t.VALUE_CHANGED="VALUE_CHANGED",t.STATE_CHANGED="STATE_CHANGED"}(t||(t={})),function(t){t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.VALUE_TO_CHANGED="STATE_TO_CHANGED"}(e||(e={})),function(t){t.VALUE_TO="VALUE_TO",t.VALUE_FROM="VALUE_FROM",t.KNOB_VALUE_TO_CHANGED="KNOB_VALUE_TO_CHANGED",t.KNOB_VALUE_FROM_CHANGED="KNOB_VALUE_FROM_CHANGED"}(o||(o={})),function(t){t.SCALE_VALUE_TO_CHANGED="SCALE_VALUE_TO_CHANGED",t.SCALE_VALUE_FROM_CHANGED="SCALE_VALUE_FROM_CHANGED",t.TARGET_TRIGGERED="TARGET_TRIGGERED",t.TARGET_MAX_VALUE_TRIGGERED="TARGET_MAX_VALUE_TRIGGERED"}(n||(n={})),function(t){t.LABELS_VALUE_TO_CHANGED="LABELS_VALUE_TO_CHANGED",t.LABELS_VALUE_FROM_CHANGED="LABELS_VALUE_FROM_CHANGED"}(i||(i={}));var r,s,a={min:0,max:100,step:1,valueFrom:50,valueTo:75,orientation:"horizontal",isRange:!1,hasFill:!0,hasLabels:!0,hasTooltips:!0,color:"orange"},l=function(t,e,o){if(o||2===arguments.length)for(var n,i=0,r=e.length;i<r;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},c=function(){function t(){this.observers={}}return t.prototype.emit=function(t,e){var o;null===(o=this.observers[t])||void 0===o||o.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var o=this.observers[t]||[];this.observers[t]=l(l([],o,!0),[e],!1)},t}(),u=function(t,e){var o=t.min,n=t.max,i=t.step,r=(e-o)/i*(100/((n-o)/i));return r>100?100:r<0?0:r},p=function(t,e,o,n){var i=100/((e-t)/o),r=Math.round(n/i)*o+t;return n>=100?n*r:r},h=function(t){return["orange","green"].includes(t)},d=function(t){return["vertical","horizontal"].includes(t)},f=function(){return f=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f.apply(this,arguments)},_=function(){function t(){}return t.prototype.checkState=function(t){var e=t.min,o=t.max,n=t.step,i=t.valueFrom,r=t.valueTo;return this.min=e,this.max=o,this.step=n,this.valueFrom=i,this.valueTo=r,this.checkMinMax(this.min,this.max),this.step=this.checkStep(this.min,this.max,this.step),t.isRange&&(this.checkMinRange(this.valueFrom),this.checkMaxRange(this.valueTo),this.checkRangeMinMax(this.valueFrom,this.valueTo)),f(f({},t),{min:this.min,max:this.max,step:this.step,valueFrom:this.checkValue(this.valueFrom),valueTo:this.valueTo})},t.prototype.checkValue=function(t){var e=u({min:this.min,max:this.max,step:this.step},t),o=p(this.min,this.max,this.step,e);return e>=100&&o!==this.max||o>this.max?this.max:o},t.prototype.checkMinRange=function(t){return t>=this.valueTo&&(t=this.valueTo),this.checkValue(t)},t.prototype.checkMaxRange=function(t){return t<=this.valueFrom&&(t=this.valueFrom),this.checkValue(t)},t.prototype.checkStep=function(t,e,o){var n=e-t,i=Math.round(o);return i<=0||0===e?a.step:i>n?n:i},t.prototype.checkMinMax=function(t,e){var o,n=Math.round(t),i=Math.round(e);n===i&&(i+=1),n>=i&&(o=n,n=i,i=o),this.min=n,this.max=i},t.prototype.checkRangeMinMax=function(t,e){var o;t>=e&&(o=t,t=e,e=o),t<=this.min&&(t=this.min),e>=this.max&&(e=this.max),this.valueFrom=this.checkValue(t),this.valueTo=this.checkValue(e)},t}(),E=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),v=function(){return v=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},v.apply(this,arguments)},b=function(e){function o(t){var o=e.call(this)||this;return o.state=a,o.validation=new _,o.setState(t),o}return E(o,e),o.prototype.setState=function(e){var o=v(v({},this.state),e);this.state=v(v({},o),this.validation.checkState(o)),this.emit(t.STATE_CHANGED,this.state)},o.prototype.getState=function(){return this.state},o.prototype.getValue=function(t){return this.state[t]},o.prototype.setValue=function(e,o){this.checkStateValue(e,o),this.state=v(v({},this.state),this.validation.checkState(this.state)),this.isValue(e)?this.emit(t.VALUE_CHANGED,this.state):this.emit(t.STATE_CHANGED,this.state)},o.prototype.checkStateValue=function(t,e){var o=this.state.isRange,n="number"==typeof e,i="valueFrom"===t&&n,r="valueTo"===t&&n;"valueFrom"===t&&o&&n?this.state.valueFrom=this.validation.checkMinRange(e):i?this.state.valueFrom=this.validation.checkValue(e):r?this.state.valueTo=this.validation.checkMaxRange(e):this.state[t]=e},o.prototype.isValue=function(t){return"valueFrom"===t||"valueTo"===t},o}(c),m=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(t){function e(e,o,n,i){var r=t.call(this)||this;return r.root=o,r.state=e,r.target=n,r.id=i||null,r}return m(e,t),e.prototype.update=function(t){if(!t)throw new Error("The state for updating is not transferred")},e.prototype.getCoords=function(t){var e=t.getBoundingClientRect().left,o=t.getBoundingClientRect().top,n=t.getBoundingClientRect().right,i=t.getBoundingClientRect().bottom;return{left:e+window.pageXOffset,bottom:i+window.pageYOffset,width:n-e,height:i-o}},e.prototype.getPageCoords=function(t){return{pageX:t.pageX,pageY:t.pageY}},e.prototype.getPosition=function(t,e,o){var n="horizontal"===t;if(null===e)return 50;var i=o.pageX,r=o.pageY,s=e.left,a=e.bottom,l=e.width,c=e.height;return n?(i-s)/l*100:(a-r)/c*100},e}(c),A=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(t){function Scale(e,o,n){var i=t.call(this,e,o,n)||this;return i.init(),i}return A(Scale,t),Scale.prototype.init=function(){var t=this.state.orientation,e=d(t)?t:"horizontal";this.scaleNode=this.createScale(e),this.scaleNode.addEventListener("pointerdown",this.handleScalePointerDown.bind(this))},Scale.prototype.handleScalePointerDown=function(t){if(this.isTarget(t)){var e=this.state,o=e.min,i=e.max,r=e.valueFrom,s=e.valueTo,a=e.step,l=e.orientation,c=e.isRange,u=this.scaleNode?this.getCoords(this.scaleNode):null,h=this.getPageCoords(t),d=this.getPosition(l,u,h),f=p(o,i,a,d);if(c)f>=r+(s-r)/2?(this.emit(n.SCALE_VALUE_TO_CHANGED,f.toFixed()),this.emit(n.TARGET_MAX_VALUE_TRIGGERED,t)):(this.emit(n.SCALE_VALUE_FROM_CHANGED,f.toFixed()),this.emit(n.TARGET_TRIGGERED,t));else this.emit(n.SCALE_VALUE_FROM_CHANGED,f.toFixed()),this.emit(n.TARGET_TRIGGERED,t)}},Scale.prototype.getScaleNode=function(){return this.scaleNode},Scale.prototype.isTarget=function(t){if(t.target instanceof HTMLElement)return"scale"===t.target.dataset.id||"fill"===t.target.dataset.id},Scale.prototype.createScale=function(t){var e=document.createElement("div");return e.classList.add("js-slider__scale","slider__scale","slider__scale_"+t),e.setAttribute("data-id","scale"),e},Scale}(y),T=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(t){function Fill(e,o,n){var i=t.call(this,e,o,n)||this;return i.init(),i}return T(Fill,t),Fill.prototype.init=function(){var t=this.state,e=t.orientation,o=t.color,n=d(e)?e:"horizontal",i=h(o)?o:"orange";this.fill=this.createFill(i,n)},Fill.prototype.getFillNode=function(){return this.fill},Fill.prototype.update=function(t){var e=t.orientation,o=t.isRange,n=t.valueTo,i=t.valueFrom,r="horizontal"===e,s=r?"width":"height",a=r?"left":"bottom",l=u(t,i);if(this.fill&&o){var c=u(t,n);this.fill.style[s]=c-l+"%",this.fill.style[a]=l+"%"}else this.fill&&(this.fill.style[s]=l+"%")},Fill.prototype.createFill=function(t,e){var o=document.createElement("div");return o.classList.add("slider__fill","slider__fill_"+e,"slider__fill_"+t),o.setAttribute("data-id","fill"),o},Fill}(y),L=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O=function(t){function Labels(e,o,n){var i=t.call(this,e,o,n)||this;return i.init(),i}return L(Labels,t),Labels.prototype.getLabelsNode=function(){return this.labels},Labels.prototype.init=function(){var t=this.state,e=t.orientation,o=t.min,n=t.max,i=t.step,r=d(e)?e:"horizontal";this.labels=this.createLabels(r,o,n,i),this.labels.addEventListener("pointerdown",this.handleLabelsPointerDown.bind(this))},Labels.prototype.handleLabelsPointerDown=function(t){if(t.target instanceof HTMLElement){var e=this.state,o=e.min,n=e.max,r=e.step,s=e.valueFrom,a=e.valueTo,l=e.isRange,c=Number(t.target.dataset.value),u=p(o,n,r,c);if(100===c&&(u=n),l)u>=s+(a-s)/2?this.emit(i.LABELS_VALUE_TO_CHANGED,u):this.emit(i.LABELS_VALUE_FROM_CHANGED,u);else this.emit(i.LABELS_VALUE_FROM_CHANGED,u)}},Labels.prototype.createLabels=function(t,e,o,n){var i=document.createElement("div");return i.classList.add("slider__labels","slider__labels_"+t),i.setAttribute("data-id","labels"),this.getLabels(t,e,o,n).forEach((function(t){return i.insertAdjacentElement("afterbegin",t)})),i},Labels.prototype.getLabels=function(t,e,o,n){var i=this,r=[],s=[20,40,60,80];return(s=s.map((function(t){return p(e,o,n,t)})).concat(e,o).sort((function(t,e){return t-e}))).forEach((function(s){r.push(i.createLabel(t,s,e,o,n))})),r},Labels.prototype.createLabel=function(t,e,o,n,i){var r="horizontal"===t?"left":"bottom",s=u({min:o,max:n,step:i},e).toFixed(2),a=document.createElement("div");return a.classList.add("slider__labels-item"),a.setAttribute("data-value",""+s),a.style[r]=s+"%",a.textContent=""+e,a},Labels}(y),N=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),w=function(t){function Tooltip(e,o,n,i){var r=t.call(this,e,o,n,i)||this;return r.init(),r}return N(Tooltip,t),Tooltip.prototype.init=function(){var t=this.state,e=t.orientation,o=t.color,n=d(e)?e:"horizontal",i=h(o)?o:"orange";this.tooltip=this.createTooltip(i,n)},Tooltip.prototype.getTooltipNode=function(){return this.tooltip},Tooltip.prototype.update=function(t){var e=this.target===s.simple?"valueFrom":"valueTo";this.tooltipValue.innerText=String(t[e])},Tooltip.prototype.createTooltip=function(t,e){var o=this.id?this.id:"tooltip-first",n=document.createElement("div");n.classList.add("slider__tooltip","slider__tooltip_"+e,"slider__tooltip_"+t),n.setAttribute("data-id",""+o);var i="tooltip-second"===this.id?"tooltip-value-second":"tooltip-value-first";this.tooltipValue=document.createElement("span"),this.tooltipValue.classList.add("tooltip__value"),this.tooltipValue.setAttribute("data-id",""+i);var r="vertical"===e?"slider__tooltip_arrow_vertical":"",s=document.createElement("div");return s.className="slider__tooltip_arrow "+r,n.insertAdjacentElement("afterbegin",this.tooltipValue),n.insertAdjacentElement("beforeend",s),n},Tooltip}(y),R=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),G=function(){return G=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},G.apply(this,arguments)},V=function(t){function Knob(e,o,n,i){var r=t.call(this,e,o,n,i)||this;return r.init(),r}return R(Knob,t),Knob.prototype.update=function(t){this.currentState=G({},t);var e=this.target===s.simple?"valueFrom":"valueTo",o="horizontal"===this.state.orientation?"left":"bottom",n=t[e];this.knob.style[o]=u(t,Number(n))+"%"},Knob.prototype.getKnobNode=function(){return this.knob},Knob.prototype.setKnobTarget=function(t){this.knobTarget=t},Knob.prototype.handleKnobPointerDown=function(){var t=this,e=this.currentState,o=e.min,n=e.max,i=e.step,r=e.orientation,s=this.root.querySelector(".js-slider__scale"),a=function(e){e.preventDefault(),t.knob.ondragstart=function(){return!1};var a=s?t.getCoords(s):null,l=t.getPageCoords(e),c=t.getPosition(r,a,l),u=p(o,n,i,c);t.emit(t.knobTarget,u.toFixed())},l=function(){document.removeEventListener("pointerup",l),document.removeEventListener("pointermove",a)};document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)},Knob.prototype.init=function(){var t=this.state,e=t.color,o=t.orientation,n=h(e)?e:"orange",i=d(o)?o:"horizontal";this.knob=this.createKnob(n,i),this.knob.addEventListener("pointerdown",this.handleKnobCheckTarget.bind(this)),this.knob.addEventListener("pointerdown",this.handleKnobPointerDown.bind(this)),this.knob.addEventListener("keydown",this.handleKnobCheckTarget.bind(this)),this.knob.addEventListener("keydown",this.handleKnobKeyDown.bind(this))},Knob.prototype.handleKnobKeyDown=function(t){var e=this.knobTarget===o.KNOB_VALUE_FROM_CHANGED?"valueFrom":"valueTo",n=this.currentState[e],i=this.currentState.step,r=t.code;if("ArrowRight"===r||"ArrowUp"===r){var s=Number(n)+i;this.emit(this.knobTarget,s)}if("ArrowLeft"===r||"ArrowDown"===r){s=Number(n)-i;this.emit(this.knobTarget,s)}},Knob.prototype.handleKnobCheckTarget=function(t){if(t.target instanceof HTMLElement){var e=t.target,n="knob"===e.dataset.id||"tooltip-first"===e.dataset.id||"tooltip-value-first"===e.dataset.id;this.knobTarget=n?o.KNOB_VALUE_FROM_CHANGED:o.KNOB_VALUE_TO_CHANGED}},Knob.prototype.createKnob=function(t,e){var o=this.id?this.id:"knob",n=document.createElement("div");return n.classList.add("slider__knob","slider__knob_"+e,"slider__knob_"+t),n.setAttribute("data-id",""+o),n.setAttribute("role","slider"),n.setAttribute("tabindex","0"),n},Knob}(y);!function(t){t[t.simple=0]="simple",t[t.range=1]="range"}(s||(s={}));var D=function(){function t(t,e,o){this.options=t,this.root=e,this.type=o,this.init()}return t.prototype.getComponents=function(){return this.components},t.prototype.init=function(){var t=this.options.orientation,e=d(t)?t:"horizontal",o=this.createSlider(e);this.components=this.createComponents(),this.scale=this.components.scale.getScaleNode(),o.insertAdjacentElement("afterbegin",this.scale),this.root.innerHTML="",this.root.insertAdjacentElement("afterbegin",o),this.addScaleElements()},t.prototype.addScaleElements=function(){var t=this.options,e=t.isRange,o=t.hasFill,n=t.hasTooltips,i=t.hasLabels,r=Object.prototype.hasOwnProperty.call(this.components,"secondKnob"),s=Object.prototype.hasOwnProperty.call(this.components,"secondTooltip")&&n,a=this.components.knob.getKnobNode(),l=this.components.fill.getFillNode(),c=this.components.tooltip.getTooltipNode(),u=this.components.labels.getLabelsNode(),p=r?this.components.secondKnob.getKnobNode():null,h=s?this.components.secondTooltip.getTooltipNode():null;this.scale.insertAdjacentElement("beforeend",a),o&&this.scale.insertAdjacentElement("afterbegin",l),n&&a.insertAdjacentElement("afterbegin",c),e&&p&&this.scale.insertAdjacentElement("beforeend",p),e&&s&&p.insertAdjacentElement("afterbegin",h),i&&this.scale.insertAdjacentElement("beforeend",u)},t.prototype.createComponents=function(){var t=this,e={};return[g,C,V,O,w].forEach((function(o){var n,i=new o(t.options,t.root,s.simple),r=(n=i.constructor.name)[0].toLowerCase()+n.slice(1);e[r]=i})),this.type===s.range&&Object.defineProperties(e,{secondKnob:{value:new V(this.options,this.root,s.range,"second-knob"),enumerable:!0},secondTooltip:{value:new w(this.options,this.root,s.range,"tooltip-second"),enumerable:!0}}),e},t.prototype.createSlider=function(t){var e=document.createElement("div");return e.classList.add("slider","slider_"+t),e},t}(),S=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),F=function(t){function r(e,o){var n=t.call(this)||this;return n.options=o,n.root=e,n.init(o),n}return S(r,t),r.prototype.init=function(t){this.type=t.isRange?s.range:s.simple;var e=new D(t,this.root,this.type);this.sliderComponents=e.getComponents(),this.bindEvents(),this.update(t),this.checkKnobZIndex()},r.prototype.update=function(t){Object.values(this.sliderComponents).forEach((function(e){e&&e.update(t)})),this.options.hasTooltips&&this.createDoubleTooltip(t)},r.prototype.bindEvents=function(){this.bindScaleEvents(),this.bindKnobsEvents(),this.bindLabelsEvents()},r.prototype.bindScaleEvents=function(){var t=this;this.sliderComponents.scale.subscribe(n.SCALE_VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),this.sliderComponents.scale.subscribe(n.SCALE_VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)})),this.sliderComponents.scale.subscribe(n.TARGET_TRIGGERED,(function(){t.sliderComponents.knob.setKnobTarget(o.KNOB_VALUE_FROM_CHANGED),t.sliderComponents.knob.handleKnobPointerDown()})),this.sliderComponents.scale.subscribe(n.TARGET_MAX_VALUE_TRIGGERED,(function(){"secondKnob"in t.sliderComponents&&(t.sliderComponents.secondKnob.setKnobTarget(o.KNOB_VALUE_TO_CHANGED),t.sliderComponents.secondKnob.handleKnobPointerDown())}))},r.prototype.bindKnobsEvents=function(){var t=this;(this.sliderComponents.knob.subscribe(o.KNOB_VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),this.type===s.range&&this.sliderComponents.secondKnob)&&("secondKnob"in this.sliderComponents&&this.sliderComponents.secondKnob.subscribe(o.KNOB_VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)})))},r.prototype.bindLabelsEvents=function(){var t=this;this.sliderComponents.labels.subscribe(i.LABELS_VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),this.sliderComponents.labels.subscribe(i.LABELS_VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)}))},r.prototype.checkKnobZIndex=function(){var t,e,n=this.sliderComponents.knob;"secondKnob"in this.sliderComponents&&(t=this.sliderComponents.secondKnob,e=t.getKnobNode(),n.subscribe(o.KNOB_VALUE_FROM_CHANGED,(function(){n.getKnobNode().style.zIndex="1",e.style.zIndex="0"})),t.subscribe(o.KNOB_VALUE_TO_CHANGED,(function(){n.getKnobNode().style.zIndex="0",t.getKnobNode().style.zIndex="1"})))},r.prototype.getTooltipsCoords=function(){var t,e=this.options.hasTooltips,o=this.sliderComponents.tooltip;return e&&"secondTooltip"in this.sliderComponents?(t=this.sliderComponents.secondTooltip,{firstRight:o.getTooltipNode().getBoundingClientRect().right,firstTop:o.getTooltipNode().getBoundingClientRect().top,secondLeft:t.getTooltipNode().getBoundingClientRect().left,secondBottom:t.getTooltipNode().getBoundingClientRect().bottom}):null},r.prototype.createDoubleTooltip=function(t){var e,o,n=t.hasTooltips,i=t.isRange,r=t.orientation,s=t.valueFrom,a=t.valueTo,l=this.getTooltipsCoords();if(l){var c=l.firstRight,u=l.firstTop,p=l.secondLeft,h=l.secondBottom;i&&"secondKnob"in this.sliderComponents&&(o=(e=this.sliderComponents.secondTooltip.getTooltipNode()).children.item(0));var d="horizontal"===r&&c>=p||"vertical"===r&&h>=u;if(n&&e){var f=this.sliderComponents.tooltip.getTooltipNode();d&&e?(f.style.visibility="hidden",e.classList.add("slider__tooltip_double"),o&&(o.textContent=s+" – "+a)):e&&o&&(f.style.visibility="visible",e.classList.remove("slider__tooltip_double"),o.textContent=""+t.valueTo)}else e&&o&&(o.textContent=""+t.valueTo)}},r}(c),k=function(){function o(t,e){this.root=t,this.model=new b(e),this.view=new F(t,this.model.getState()),this.bindModelEvents(),this.bindViewEvents()}return o.prototype.bindModelEvents=function(){var e=this;this.model.subscribe(t.STATE_CHANGED,(function(t){e.view.init(t),e.customEvent()})),this.model.subscribe(t.VALUE_CHANGED,(function(t){e.view.update(t),e.customEvent()}))},o.prototype.bindViewEvents=function(){var t=this;this.view.subscribe(e.VALUE_FROM_CHANGED,(function(e){t.model.setValue("valueFrom",Number(e))})),this.view.subscribe(e.VALUE_TO_CHANGED,(function(e){t.model.setValue("valueTo",Number(e))}))},o.prototype.customEvent=function(){this.root.dispatchEvent(new CustomEvent("onChange",{detail:this.model.getState()}))},o}(),H=function(){return H=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},H.apply(this,arguments)},U={init:function(t){return this.each((function(){if("object"==typeof t){var e=H(H({},a),t);$(this).data().sliderPlugin=new k(this,e)}}))},getState:function(){return $(this).data("sliderPlugin").model.getState()},setValue:function(t,e){$(this).data("sliderPlugin").model.setValue(""+t,e)},onChange:function(t){$(this).on("onChange",(function(e){return t(e)}))}};$.fn.sliderPlugin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=t[0],n=t.slice(1),i="string"==typeof o,r="object"==typeof o||!o;if(i)return U[o].apply(this,n);if(r){var s=o||{};return U.init.call(this,s)}$.error("Метод с именем "+o+" не существует")}}();