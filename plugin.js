!function(){"use strict";var t,e,n,o,i;!function(t){t.VALUE_CHANGED="VALUE_CHANGED",t.STATE_CHANGED="STATE_CHANGED"}(t||(t={})),function(t){t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.VALUE_TO_CHANGED="STATE_TO_CHANGED"}(e||(e={})),function(t){t.VALUE_TO="VALUE_TO",t.VALUE_FROM="VALUE_FROM",t.KNOB_VALUE_TO_CHANGED="KNOB_VALUE_TO_CHANGED",t.KNOB_VALUE_FROM_CHANGED="KNOB_VALUE_FROM_CHANGED"}(n||(n={})),function(t){t.SCALE_VALUE_TO_CHANGED="SCALE_VALUE_TO_CHANGED",t.SCALE_VALUE_FROM_CHANGED="SCALE_VALUE_FROM_CHANGED",t.TARGET_TRIGGERED="TARGET_TRIGGERED",t.TARGET_MAX_VALUE_TRIGGERED="TARGET_MAX_VALUE_TRIGGERED"}(o||(o={})),function(t){t.LABELS_VALUE_TO_CHANGED="LABELS_VALUE_TO_CHANGED",t.LABELS_VALUE_FROM_CHANGED="LABELS_VALUE_FROM_CHANGED"}(i||(i={}));var r,s={min:0,max:100,step:1,valueFrom:50,valueTo:75,orientation:"horizontal",isRange:!1,hasFill:!0,hasLabels:!0,hasTooltips:!0,color:"orange"},a=function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},l=function(){function t(){this.observers={}}return t.prototype.emit=function(t,e){var n;null===(n=this.observers[t])||void 0===n||n.forEach((function(t){return t(e)}))},t.prototype.subscribe=function(t,e){var n=this.observers[t]||[];this.observers[t]=a(a([],n,!0),[e],!1)},t}(),u=function(t,e){var n=t.min,o=t.max,i=t.step,r=(e-n)/i*(100/((o-n)/i));return r>100?100:r<0?0:r},c=function(t,e,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===o&&(o=0);var i=100/((e-t)/n),r=Math.round(o/i)*n+t;return o>=100?o*r:r},p=function(t){return t[0].toLowerCase()+t.slice(1)},h=function(){return h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},h.apply(this,arguments)},f=function(){function t(){}return t.prototype.checkState=function(t){var e=t.min,n=t.max,o=t.step,i=t.valueFrom,r=t.valueTo;return this.min=e,this.max=n,this.step=o,this.valueFrom=i,this.valueTo=r,this.checkMinMax(this.min,this.max),this.step=this.checkStep(this.min,this.max,this.step),t.isRange&&(this.checkMinRange(this.valueFrom),this.checkMaxRange(this.valueTo),this.checkRangeMinMax(this.valueFrom,this.valueTo)),h(h({},t),{min:this.min,max:this.max,step:this.step,valueFrom:this.checkValue(this.valueFrom),valueTo:this.valueTo})},t.prototype.checkValue=function(t){var e=u({min:this.min,max:this.max,step:this.step},t),n=c(this.min,this.max,this.step,e);return e>=100&&n!==this.max||n>this.max?this.max:n},t.prototype.checkMinRange=function(t){return t>=this.valueTo&&(t=this.valueTo),this.checkValue(t)},t.prototype.checkMaxRange=function(t){return t<=this.valueFrom&&(t=this.valueFrom),this.checkValue(t)},t.prototype.checkStep=function(t,e,n){var o=e-t,i=Math.round(n);return i<=0||0===e?s.step:i>o?o:i},t.prototype.checkMinMax=function(t,e){var n,o=Math.round(t),i=Math.round(e);o===i&&(i+=1),o>=i&&(n=o,o=i,i=n),this.min=o,this.max=i},t.prototype.checkRangeMinMax=function(t,e){var n=0;t>=e&&(n=t,t=e,e=n),t<=this.min&&(t=this.min),e>=this.max&&(e=this.max),this.valueFrom=this.checkValue(t),this.valueTo=this.checkValue(e)},t}(),d=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(){return _=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_.apply(this,arguments)},v=function(e){function n(t){var n=e.call(this)||this;return n.state=s,n.validation=new f,n.setState(t),n}return d(n,e),n.prototype.setState=function(e){var n=_(_({},this.state),e);this.state=_(_({},n),this.validation.checkState(n)),this.emit(t.STATE_CHANGED,this.state)},n.prototype.getState=function(){return this.state},n.prototype.getValue=function(t){return this.state[t]},n.prototype.setValue=function(e,n){this.checkStateValue(e,n),this.state=_(_({},this.state),this.validation.checkState(this.state)),this.isValue(e)?this.emit(t.VALUE_CHANGED,this.state):this.emit(t.STATE_CHANGED,this.state)},n.prototype.checkStateValue=function(t,e){var n=this.state.isRange,o="number"==typeof e,i="valueFrom"===t&&o,r="valueTo"===t&&o;"valueFrom"===t&&n&&o?this.state.valueFrom=this.validation.checkMinRange(e):i?this.state.valueFrom=this.validation.checkValue(e):r?this.state.valueTo=this.validation.checkMaxRange(e):this.state[t]=e},n.prototype.isValue=function(t){return"valueFrom"===t||"valueTo"===t},n}(l),E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(){return y=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},y.apply(this,arguments)},m=function(t){function e(e,n){var o=t.call(this)||this;return o.root=n,o.state=e,o}return E(e,t),e.prototype.update=function(t){this.state=y({},t)},e.prototype.getCoords=function(t){var e=t.getBoundingClientRect().left,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().right,i=t.getBoundingClientRect().bottom;return{left:e+window.pageXOffset,bottom:i+window.pageYOffset,width:o-e,height:i-n}},e.prototype.getPageCoords=function(t){return{pageX:t.pageX,pageY:t.pageY}},e.prototype.getPosition=function(t,e,n){var o="horizontal"===t;if(null===e)return 50;var i=n.pageX,r=n.pageY,s=e.left,a=e.bottom,l=e.width,u=e.height;return o?(i-s)/l*100:(a-r)/u*100},e}(l),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fill=function(t){function Fill(){return null!==t&&t.apply(this,arguments)||this}return A(Fill,t),Fill.prototype.init=function(){this.fill=this.root.querySelector(".js-slider__fill")},Fill.prototype.update=function(t){var e=t.orientation,n=t.isRange,o=t.valueTo,i=t.valueFrom,r="horizontal"===e,s=r?"width":"height",a=r?"left":"bottom",l=u(t,i);if(this.fill&&n){var c=u(t,o);this.fill.style[s]=c-l+"%",this.fill.style[a]=l+"%"}else this.fill&&(this.fill.style[s]=l+"%")},Fill.getTemplate=function(t,e){return'\n      <div\n        class="slider__fill\n        js-slider__fill\n        slider__fill_'+e+"\n        slider__fill_"+t+'\n        "data-id="fill"\n      ></div>\n    '},Fill}(m),b=Fill,T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tooltip=function(t){function Tooltip(){return null!==t&&t.apply(this,arguments)||this}return T(Tooltip,t),Tooltip.prototype.init=function(){if(this.state.hasTooltips&&!this.root.querySelector('[data-id="knob"]'))throw new Error("Knob element is not found")},Tooltip.prototype.update=function(t){var e=this.root.querySelector('[data-id="tooltip-value-first"]');e&&(e.innerText=""+t.valueFrom)},Tooltip.getTemplate=function(t,e){return'\n      <div class="slider__tooltip\n        slider__tooltip_'+t+"\n        slider__tooltip_"+e+'"\n        data-id="tooltip-first"\n      >\n        <span class="tooltip__value" data-id="tooltip-value-first"></span>\n        <div class="slider__tooltip_arrow '+("vertical"===t?"slider__tooltip_arrow_vertical":"")+'"></div>\n      </div>\n    '},Tooltip}(m),SecondTooltip=function(t){function SecondTooltip(){return null!==t&&t.apply(this,arguments)||this}return T(SecondTooltip,t),SecondTooltip.prototype.init=function(){if(this.state.hasTooltips&&!this.root.querySelector('[data-id="second-knob"]'))throw new Error("Second knob element is not found")},SecondTooltip.prototype.update=function(t){var e=this.root.querySelector('[data-id="tooltip-value-second"]'),n=this.root.querySelector('[data-id="tooltip-first"]'),o=this.root.querySelector('[data-id="tooltip-second"]'),i=this.state.orientation,r=this.getTooltipsCoords(),s=r.firstRight,a=r.firstTop,l=r.secondLeft,u=r.secondBottom;n&&o&&e?"horizontal"===i&&s>=l||"vertical"===i&&u>=a?(n.style.visibility="hidden",e.innerText=t.valueFrom+" – "+t.valueTo,null==o||o.classList.add("slider__tooltip_double")):(n.style.visibility="visible",e.innerText=""+t.valueTo):e&&(e.innerText=""+t.valueTo)},SecondTooltip.prototype.getTooltipsCoords=function(){var t=this.root.querySelector('[data-id="tooltip-first"]'),e=this.root.querySelector('[data-id="tooltip-second"]');return{firstRight:(null==t?void 0:t.getBoundingClientRect().right)||0,firstTop:(null==t?void 0:t.getBoundingClientRect().top)||0,secondLeft:(null==e?void 0:e.getBoundingClientRect().left)||0,secondBottom:(null==e?void 0:e.getBoundingClientRect().bottom)||0}},SecondTooltip.getTemplate=function(t,e){return'\n      <div class="slider__tooltip\n        slider__tooltip_'+t+"\n        slider__tooltip_"+e+'"\n        data-id="tooltip-second"\n      >\n        <span class="tooltip__value"\n          data-id="tooltip-value-second"\n        ></span>\n        <div class="slider__tooltip_arrow '+("vertical"===t?"slider__tooltip_arrow_vertical":"")+'"></div>\n      </div>\n    '},SecondTooltip}(m),g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),L=function(){return L=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},L.apply(this,arguments)},O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.init=function(){this.scale=this.root.querySelector(".js-slider__scale"),this.valueFrom=this.root.querySelector('[data-id="knob"]'),this.valueTo=this.root.querySelector('[data-id="second-knob"]'),this.state.hasTooltips&&this.addTooltips()},e.prototype.update=function(t,e){this.state=L({},t);var o=e===n.KNOB_VALUE_FROM_CHANGED?"valueFrom":"valueTo",i="horizontal"===this.state.orientation?"left":"bottom",r=t[o],s="valueFrom"===o,a="valueTo"===o;this.valueFrom&&s&&(this.valueFrom.style[i]=u(t,Number(r))+"%"),this.valueTo&&a&&(this.valueTo.style[i]=u(t,Number(r))+"%")},e.prototype.handleKnobsPointerDown=function(t){var e=this,o=this.state,i=o.min,r=o.max,s=o.step,a=o.orientation,l=t===n.KNOB_VALUE_FROM_CHANGED?"1":"0",u=function(n){n.preventDefault(),e.valueFrom&&(e.valueFrom.ondragstart=function(){return!1},e.valueFrom.style.zIndex=l),e.valueFrom&&e.valueTo&&(e.valueTo.ondragstart=function(){return!1},e.valueFrom.style.zIndex=l);var o=e.scale?e.getCoords(e.scale):null,u=e.getPageCoords(n),p=e.getPosition(a,o,u),h=c(i,r,s,p);e.emit(t,h.toFixed())},p=function(){document.removeEventListener("pointerup",p),document.removeEventListener("pointermove",u)};document.addEventListener("pointermove",u),document.addEventListener("pointerup",p)},e.prototype.handleKnobsKeyDown=function(t,e){var o=e===n.KNOB_VALUE_FROM_CHANGED?"valueFrom":"valueTo",i=this.state[o],r=this.state.step,s=t.code;if("ArrowRight"===s||"ArrowUp"===s){var a=Number(i)+r;this.emit(e,a)}if("ArrowLeft"===s||"ArrowDown"===s){a=Number(i)-r;this.emit(e,a)}},e.prototype.addTooltips=function(){var t,e,n=this.state,o=n.color,i=n.orientation,r=null===(t=this.valueFrom)||void 0===t?void 0:t.querySelector('[data-id="tooltip-first"]'),s=null===(e=this.valueTo)||void 0===e?void 0:e.querySelector('[data-id="tooltip-second"]');this.valueFrom&&!r&&this.valueFrom.insertAdjacentHTML("afterbegin",Tooltip.getTemplate(i,o)),this.valueTo&&!s&&this.valueTo.insertAdjacentHTML("afterbegin",SecondTooltip.getTemplate(i,o))},e.getTemplate=function(t,e,o){var i="knob";return o===n.VALUE_TO&&(i="second-knob"),'\n      <div\n        class="slider__knob\n        slider__knob_'+e+"\n        slider__knob_"+t+'" \n        data-id='+i+'\n        role="slider"\n        tabindex="0"\n      ></div>\n    '},e}(m),Knob=function(t){function Knob(){return null!==t&&t.apply(this,arguments)||this}return g(Knob,t),Knob.prototype.init=function(){t.prototype.init.call(this),this.addEventListeners()},Knob.prototype.update=function(e){t.prototype.update.call(this,e,n.KNOB_VALUE_FROM_CHANGED)},Knob.prototype.handleKnobPointerDown=function(){t.prototype.handleKnobsPointerDown.call(this,n.KNOB_VALUE_FROM_CHANGED)},Knob.prototype.handleKnobKeyDown=function(e){t.prototype.handleKnobsKeyDown.call(this,e,n.KNOB_VALUE_FROM_CHANGED)},Knob.prototype.addEventListeners=function(){this.valueFrom&&(this.valueFrom.addEventListener("pointerdown",this.handleKnobPointerDown.bind(this)),this.valueFrom.addEventListener("keydown",this.handleKnobKeyDown.bind(this)))},Knob.getTemplate=function(e,o){return t.getTemplate.call(this,e,o,n.VALUE_FROM)},Knob}(O),SecondKnob=function(t){function SecondKnob(){return null!==t&&t.apply(this,arguments)||this}return g(SecondKnob,t),SecondKnob.prototype.init=function(){t.prototype.init.call(this),this.addEventListeners()},SecondKnob.prototype.update=function(e){t.prototype.update.call(this,e,n.KNOB_VALUE_TO_CHANGED)},SecondKnob.prototype.handleSecondKnobPointerDown=function(){t.prototype.handleKnobsPointerDown.call(this,n.KNOB_VALUE_TO_CHANGED)},SecondKnob.prototype.handleSecondKnobKeyDown=function(e){t.prototype.handleKnobsKeyDown.call(this,e,n.KNOB_VALUE_TO_CHANGED)},SecondKnob.prototype.addEventListeners=function(){this.valueTo&&(this.valueTo.addEventListener("pointerdown",this.handleSecondKnobPointerDown.bind(this)),this.valueTo.addEventListener("keydown",this.handleSecondKnobKeyDown.bind(this)))},SecondKnob.getTemplate=function(e,o){return t.getTemplate.call(this,e,o,n.VALUE_TO)},SecondKnob}(O),w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Labels=function(t){function Labels(){return null!==t&&t.apply(this,arguments)||this}return w(Labels,t),Labels.prototype.init=function(){if(this.state.hasLabels){var t=this.root.querySelector(".js-slider__labels");t&&t.addEventListener("pointerdown",this.handleLabelsPointerDown.bind(this))}},Labels.prototype.handleLabelsPointerDown=function(t){if(t.target instanceof HTMLElement){var e=this.state,n=e.min,o=e.max,r=e.step,s=e.valueFrom,a=e.valueTo,l=e.isRange,u=Number(t.target.dataset.value),p=c(n,o,r,u);if(100===u&&(p=o),l)p>=s+(a-s)/2?this.emit(i.LABELS_VALUE_TO_CHANGED,p):this.emit(i.LABELS_VALUE_FROM_CHANGED,p);else this.emit(i.LABELS_VALUE_FROM_CHANGED,p)}},Labels.getTemplate=function(t,e,n,o){return'\n      <div class="slider__labels\n        js-slider__labels\n        slider__labels_'+t+'"\n        data-id="labels"\n      >\n        '+this.getLabels(t,e,n,o)+"\n      </div>\n    "},Labels.getLabels=function(t,e,n,o){var i=this,r=[],s=[20,40,60,80];return(s=s.map((function(t){return c(e,n,o,t)})).concat(e,n).sort((function(t,e){return t-e}))).forEach((function(s){r.push(i.createLabel(t,s,e,n,o))})),r.join("")},Labels.createLabel=function(t,e,n,o,i){var r="horizontal"===t?"left":"bottom",s=u({min:n,max:o,step:i},e).toFixed(2);return'\n      <div class="slider__labels-item" \n        style="'+r+": "+s+'%;"\n        data-value='+s+">\n        "+e+"\n      </div>\n    "},Labels}(m),C=Labels,D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Scale=function(t){function Scale(){return null!==t&&t.apply(this,arguments)||this}return D(Scale,t),Scale.prototype.init=function(){this.root.innerHTML="",this.root.insertAdjacentHTML("afterbegin",this.getTemplate()),this.scaleNode=this.root.querySelector(".js-slider__scale"),this.addScaleElements()},Scale.prototype.handleScalePointerDown=function(t){if(this.isTarget(t)){var e=this.state,n=e.min,i=e.max,r=e.valueFrom,s=e.valueTo,a=e.step,l=e.orientation,u=e.isRange,p=this.scaleNode?this.getCoords(this.scaleNode):null,h=this.getPageCoords(t),f=this.getPosition(l,p,h),d=c(n,i,a,f);if(u)d>=r+(s-r)/2?(this.emit(o.SCALE_VALUE_TO_CHANGED,d.toFixed()),this.emit(o.TARGET_MAX_VALUE_TRIGGERED,t)):(this.emit(o.SCALE_VALUE_FROM_CHANGED,d.toFixed()),this.emit(o.TARGET_TRIGGERED,t));else this.emit(o.SCALE_VALUE_FROM_CHANGED,d.toFixed()),this.emit(o.TARGET_TRIGGERED,t)}},Scale.prototype.addScaleElements=function(){var t=this.state,e=t.color,n=t.orientation,o=t.hasFill,i=t.isRange,r=t.hasLabels,s=t.min,a=t.max,l=t.step;this.scaleNode&&(this.scaleNode.addEventListener("pointerdown",this.handleScalePointerDown.bind(this)),this.scaleNode.insertAdjacentHTML("beforeend",Knob.getTemplate(e,n)),o&&this.scaleNode.insertAdjacentHTML("afterbegin",b.getTemplate(e,n)),i&&this.scaleNode.insertAdjacentHTML("beforeend",SecondKnob.getTemplate(e,n)),r&&this.scaleNode.insertAdjacentHTML("beforeend",C.getTemplate(n,s,a,l)))},Scale.prototype.isTarget=function(t){if(t.target instanceof HTMLElement)return"scale"===t.target.dataset.id||"fill"===t.target.dataset.id},Scale.prototype.getTemplate=function(){var t=this.state.orientation;return'\n      <div class="slider slider_'+t+'">\n        <div\n          class="slider__scale\n          js-slider__scale\n          slider__scale_'+t+'"\n          data-id="scale"\n        ></div>\n      </div>\n    '},Scale}(m),N=Scale,R=function(){function t(){}return t.prototype.createComponents=function(t,e){var n={};return[N,b,Knob,C,Tooltip].forEach((function(o){var i=new o(t,e);if(i){var r=p(i.constructor.name);n[r]=i}})),n},t}(),G=function(){function t(){}return t.prototype.createComponents=function(t,e){var n={};return[N,b,Knob,SecondKnob,Tooltip,SecondTooltip,C].forEach((function(o){var i=new o(t,e);if(i){var r=p(i.constructor.name);n[r]=i}})),n},t}(),V=function(){function t(){}return t.create=function(e){var n="range"===e?"range":"simple";return new(0,t.list[n])},t.list={simple:R,range:G},t}(),S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(t){function r(e,n){var o=t.call(this)||this;return o.root=e,o.init(n),o}return S(r,t),r.prototype.init=function(t){this.type=t.isRange?"range":"simple";var e=V.create(this.type);this.components=e.createComponents(t,this.root),this.displaySlider(),this.bindEvents(),this.update(t)},r.prototype.update=function(t){Object.values(this.components).forEach((function(e){e&&e.update(t)}))},r.prototype.displaySlider=function(){Object.values(this.components).forEach((function(t){t&&t.init()}))},r.prototype.bindEvents=function(){this.bindScaleEvents(),this.bindKnobsEvents(),this.bindLabelsEvents()},r.prototype.bindScaleEvents=function(){var t=this;this.components.scale&&(this.components.scale.subscribe(o.SCALE_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),this.components.scale.subscribe(o.SCALE_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)})),this.components.scale.subscribe(o.TARGET_TRIGGERED,(function(){t.components.knob&&t.components.knob.handleKnobPointerDown()})),this.components.scale.subscribe(o.TARGET_MAX_VALUE_TRIGGERED,(function(){"secondKnob"in t.components&&t.components.secondKnob.handleSecondKnobPointerDown()})))},r.prototype.bindKnobsEvents=function(){var t=this;this.components.knob&&this.components.knob.subscribe(n.KNOB_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),"range"===this.type&&"secondKnob"in this.components&&this.components.secondKnob.subscribe(n.KNOB_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)}))},r.prototype.bindLabelsEvents=function(){var t=this;this.components.labels&&(this.components.labels.subscribe(i.LABELS_VALUE_FROM_CHANGED,(function(n){return t.emit(e.VALUE_FROM_CHANGED,n)})),this.components.labels.subscribe(i.LABELS_VALUE_TO_CHANGED,(function(n){return t.emit(e.VALUE_TO_CHANGED,n)})))},r}(l),H=function(){function n(t,e){this.root=t,this.model=new v(e),this.view=new F(t,this.model.state),this.bindModelEvents(),this.bindViewEvents()}return n.prototype.bindModelEvents=function(){var e=this;this.model.subscribe(t.STATE_CHANGED,(function(t){e.view.init(t),e.customEvent()})),this.model.subscribe(t.VALUE_CHANGED,(function(t){e.view.update(t),e.customEvent()}))},n.prototype.bindViewEvents=function(){var t=this;this.view.subscribe(e.VALUE_FROM_CHANGED,(function(e){t.model.setValue("valueFrom",Number(e))})),this.view.subscribe(e.VALUE_TO_CHANGED,(function(e){t.model.setValue("valueTo",Number(e))}))},n.prototype.customEvent=function(){this.root.dispatchEvent(new CustomEvent("onChange",{detail:this.model.state}))},n}(),M=function(){return M=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},M.apply(this,arguments)},U={init:function(t){return this.each((function(){if("object"==typeof t){var e=M(M({},s),t);$(this).data().sliderPlugin=new H(this,e)}}))},getState:function(){return $(this).data("sliderPlugin").model.getState()},setValue:function(t,e){$(this).data("sliderPlugin").model.setValue(""+t,e)},onChange:function(t){$(this).on("onChange",(function(e){return t(e)}))}};$.fn.sliderPlugin=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(U[t])return U[t].apply(this,e);if("object"==typeof t||!t){var o=t||{};return U.init.call(this,o)}$.error("Метод с именем "+t+" не существует")}}();