!function(){"use strict";var t,e,o,n,i;!function(t){t.VALUE_CHANGED="VALUE_CHANGED",t.STATE_CHANGED="STATE_CHANGED"}(t||(t={})),function(t){t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.VALUE_TO_CHANGED="STATE_TO_CHANGED"}(e||(e={})),function(t){t.VALUE_TO="VALUE_TO",t.VALUE_FROM="VALUE_FROM",t.VALUE_TO_CHANGED="VALUE_TO_CHANGED",t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED"}(o||(o={})),function(t){t.VALUE_TO_CHANGED="VALUE_TO_CHANGED",t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.TARGET_TRIGGERED="TARGET_TRIGGERED",t.TARGET_MAX_VALUE_TRIGGERED="TARGET_MAX_VALUE_TRIGGERED"}(n||(n={})),function(t){t.VALUE_TO_CHANGED="VALUE_TO_CHANGED",t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED"}(i||(i={}));var r,s={min:0,max:100,step:25,valueFrom:50,valueTo:75,orientation:"horizontal",range:!1,fill:!0,labels:!0,tooltips:!0,color:"orange"},a=function(){function t(){this.observers={}}return t.prototype.emit=function(t,e){return!!Array.isArray(this.observers[t])&&(this.observers[t].forEach((function(t){t(e)})),!0)},t.prototype.subscribe=function(t,e){this.observers[t]=this.observers[t]||[],this.observers[t].push(e)},t.prototype.unsubscribe=function(t,e){return this.observers[t]=this.observers[t].filter((function(t){return t!==e})),this.observers},t}(),l=function(t,e){var o=t.min,n=void 0===o?0:o,i=t.max,r=void 0===i?1:i,s=t.step,a=void 0===s?1:s,l=(e-n)/a*(100/((r-n)/a));return l>100?100:l<0?0:l},u=function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=1),void 0===n&&(n=0);var i=100/((e-t)/o);return Math.round(n/i)*o+t},c=function(t){return t[0].toLowerCase()+t.slice(1)},p=function(){return p=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},p.apply(this,arguments)},h=function(){function t(){}return t.prototype.checkState=function(t){return this.min=t.min||0,this.max=t.max||this.min+1,this.step=t.step||1,this.valueFrom=t.valueFrom||0,this.valueTo=t.valueTo||0,this.checkMinMax(this.min,this.max),this.step=this.checkStep(this.min,this.max,this.step),t.range&&(this.checkMinRange(this.valueFrom),this.checkMaxRange(this.valueTo),this.checkRangeMinMax(this.valueFrom,this.valueTo)),p(p({},t),{min:this.min,max:this.max,step:this.step,valueFrom:this.checkValue(this.valueFrom),valueTo:this.valueTo})},t.prototype.checkValue=function(t){var e=l({min:this.min,max:this.max,step:this.step},t),o=u(this.min,this.max,this.step,e);return e>=100&&o!==this.max||o>this.max?this.max:o},t.prototype.checkMinRange=function(t){return t>=this.valueTo&&(t=this.valueTo),this.checkValue(t)},t.prototype.checkMaxRange=function(t){return t<=this.valueFrom&&(t=this.valueFrom),this.checkValue(t)},t.prototype.checkStep=function(t,e,o){var n=e-t,i=Math.round(o);return i<=0||0===e?1:i>n?n:i},t.prototype.checkMinMax=function(t,e){var o=0,n=Math.round(t),i=Math.round(e);n===i&&(i+=1),n>=i&&(o=n,n=i,i=o),this.min=n,this.max=i},t.prototype.checkRangeMinMax=function(t,e){var o=0;t>=e&&(o=t,t=e,e=o),t<=this.min&&(t=this.min),e>=this.max&&(e=this.max),this.valueFrom=this.checkValue(t),this.valueTo=this.checkValue(e)},t}(),d=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),f=function(){return f=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},f.apply(this,arguments)},v=function(e){function o(){var t=e.call(this)||this;return t.state=s,t.validation=new h,t}return d(o,e),o.prototype.setState=function(e){var o=f(f({},this.state),e);this.state=f(f({},o),this.validation.checkState(o)),this.emit(t.STATE_CHANGED,this.state)},o.prototype.getState=function(){return this.state},o.prototype.getValue=function(t){return this.state[t]},o.prototype.setValue=function(e,o){this.checkStateValue(e,o),this.state=f(f({},this.state),this.validation.checkState(this.state)),this.isValue(e)?this.emit(t.VALUE_CHANGED,this.state):this.emit(t.STATE_CHANGED,this.state)},o.prototype.checkStateValue=function(t,e){var o=this.state.range,n="number"==typeof e,i="valueFrom"===t&&n,r="valueTo"===t&&n;"valueFrom"===t&&o&&n?this.state.valueFrom=this.validation.checkMinRange(e):i?this.state.valueFrom=this.validation.checkValue(e):r?this.state.valueTo=this.validation.checkMaxRange(e):this.state[t]=e},o.prototype.isValue=function(t){return"valueFrom"===t||"valueTo"===t},o}(a),_=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(){return y=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},y.apply(this,arguments)},E=function(t){function e(e,o){var n=t.call(this)||this;return n.root=o,n.state=e,n}return _(e,t),e.prototype.update=function(t,e){this.state=y({},t)},e.prototype.getCoords=function(t){var e=t.getBoundingClientRect().left,o=t.getBoundingClientRect().top,n=t.getBoundingClientRect().right,i=t.getBoundingClientRect().bottom;return{left:e+window.pageXOffset,bottom:i+window.pageYOffset,width:n-e,height:i-o}},e.prototype.getPageCoords=function(t){return{pageX:t.pageX,pageY:t.pageY}},e.prototype.getPosition=function(t,e,o){var n="horizontal"===t,i=o.pageX,r=void 0===i?0:i,s=o.pageY,a=void 0===s?0:s,l=e.left,u=void 0===l?0:l,c=e.bottom,p=void 0===c?0:c,h=e.width,d=void 0===h?0:h,f=e.height;return n?(r-u)/d*100:(p-a)/(void 0===f?0:f)*100},e}(a),m=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fill=function(t){function Fill(){return null!==t&&t.apply(this,arguments)||this}return m(Fill,t),Fill.prototype.init=function(){this.fill=this.root.querySelector(".js-slider__fill")},Fill.prototype.update=function(t){var e=t.orientation,o=void 0===e?s.orientation:e,n=t.range,i=void 0===n?s.range:n,r=t.valueTo,a=void 0===r?s.valueTo:r,u=t.valueFrom,c="horizontal"===o,p=c?"width":"height",h=c?"left":"bottom",d=l(t,void 0===u?s.valueFrom:u);if(this.fill&&i){var f=l(t,a);this.fill.style[p]=f-d+"%",this.fill.style[h]=d+"%"}else this.fill&&(this.fill.style[p]=d+"%")},Fill.getTemplate=function(t,e){return void 0===t&&(t="orange"),void 0===e&&(e="horizontal"),'\n      <div\n        class="slider__fill\n        js-slider__fill\n        slider__fill_'+e+"\n        slider__fill_"+t+'\n        "data-id="fill"\n      ></div>\n    '},Fill}(E),b=Fill,A=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Tooltip=function(t){function Tooltip(){return null!==t&&t.apply(this,arguments)||this}return A(Tooltip,t),Tooltip.prototype.init=function(){if(this.state.tooltips&&!this.root.querySelector(".js-slider__knob"))throw new Error("Knob element is not found")},Tooltip.prototype.update=function(t){var e=this.root.querySelector(".js-tooltip__value-first");e&&(e.innerText=""+t.valueFrom)},Tooltip.getTemplate=function(t,e){return void 0===t&&(t="horizontal"),void 0===e&&(e="orange"),'\n      <div class="slider__tooltip\n        js-slider__tooltip-first\n        slider__tooltip_'+t+"\n        slider__tooltip_"+e+'"\n        data-tooltip="first"\n      >\n        <span class="tooltip__value js-tooltip__value-first" data-id="tooltip-value"></span>\n        <div class="slider__tooltip_arrow '+("vertical"===t?"slider__tooltip_arrow_vertical":"")+'"></div>\n      </div>\n    '},Tooltip}(E),SecondTooltip=function(t){function SecondTooltip(){return null!==t&&t.apply(this,arguments)||this}return A(SecondTooltip,t),SecondTooltip.prototype.init=function(){if(this.state.tooltips&&!this.root.querySelector(".js-slider__second-knob"))throw new Error("Second knob element is not found")},SecondTooltip.prototype.update=function(t){var e=this.root.querySelector(".js-tooltip__value-second"),o=this.root.querySelector(".js-slider__tooltip-first"),n=this.root.querySelector(".js-slider__tooltip-second"),i=this.state.orientation,r=this.getTooltipsCoords(),s=r.firstRight,a=r.firstTop,l=r.secondLeft,u=r.secondBottom;o&&n&&e?"horizontal"===i&&s>=l||"vertical"===i&&u>=a?(o.style.visibility="hidden",e.innerText=t.valueFrom+" – "+t.valueTo,null==n||n.classList.add("slider__tooltip_double")):(o.style.visibility="visible",e.innerText=""+t.valueTo):e&&(e.innerText=""+t.valueTo)},SecondTooltip.prototype.getTooltipsCoords=function(){var t=this.root.querySelector(".js-slider__tooltip-first"),e=this.root.querySelector(".js-slider__tooltip-second");return{firstRight:(null==t?void 0:t.getBoundingClientRect().right)||0,firstTop:(null==t?void 0:t.getBoundingClientRect().top)||0,secondLeft:(null==e?void 0:e.getBoundingClientRect().left)||0,secondBottom:(null==e?void 0:e.getBoundingClientRect().bottom)||0}},SecondTooltip.getTemplate=function(t,e){return void 0===t&&(t="horizontal"),void 0===e&&(e="orange"),'\n      <div class="slider__tooltip\n        js-slider__tooltip-second\n        slider__tooltip_'+t+"\n        slider__tooltip_"+e+'"\n        data-tooltip="second"\n      >\n        <span class="tooltip__value\n          js-tooltip__value-second"\n          data-id="tooltip-value-second"\n        ></span>\n        <div class="slider__tooltip_arrow '+("vertical"===t?"slider__tooltip_arrow_vertical":"")+'"></div>\n      </div>\n    '},SecondTooltip}(E),T=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(){return g=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},g.apply(this,arguments)},O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.init=function(){if(this.scale=this.root.querySelector(".js-slider__scale"),!this.scale)throw new Error("Scale element is not found");this.valueFrom=this.root.querySelector(".js-slider__knob"),this.valueTo=this.root.querySelector(".js-slider__second-knob"),this.state.tooltips&&this.addTooltips()},e.prototype.update=function(t,e){this.state=g({},t);var n=e===o.VALUE_FROM_CHANGED?"valueFrom":"valueTo",i=this.state.orientation,r=void 0===i?s.orientation:i;if(this[n]){var a="horizontal"===r?"left":"bottom",u=t[n];this[n].style[a]=l(t,Number(u))+"%"}},e.prototype.handleKnobsPointerDown=function(t){var e=this,n=this.state,i=n.min,r=n.max,a=n.step,l=n.orientation,c=void 0===l?s.orientation:l,p=t===o.VALUE_FROM_CHANGED?"1":"0",h=function(o){o.preventDefault(),e.valueFrom&&(e.valueFrom.ondragstart=function(){return!1},e.valueFrom.style.zIndex=p),e.valueFrom&&e.valueTo&&(e.valueTo.ondragstart=function(){return!1},e.valueFrom.style.zIndex=p);var n=e.scale?e.getCoords(e.scale):{},s=e.getPageCoords(o),l=e.getPosition(c,n,s),h=u(i,r,a,l);e.emit(t,h.toFixed())},d=function(){document.removeEventListener("pointerup",d),document.removeEventListener("pointermove",h)};document.addEventListener("pointermove",h),document.addEventListener("pointerup",d)},e.prototype.handleKnobsKeyDown=function(t,e){var n=e===o.VALUE_FROM_CHANGED?"valueFrom":"valueTo",i=this.state[n],r=this.state.step,a=void 0===r?s.step:r,l=t.code;if("ArrowRight"===l||"ArrowUp"===l){var u=Number(i)+a;this.emit(e,u)}if("ArrowLeft"===l||"ArrowDown"===l){u=Number(i)-a;this.emit(e,u)}},e.prototype.addTooltips=function(){var t,e,o=this.state,n=o.color,i=o.orientation,r=null===(t=this.valueFrom)||void 0===t?void 0:t.querySelector(".js-slider__tooltip-first"),s=null===(e=this.valueTo)||void 0===e?void 0:e.querySelector(".js-slider__tooltip-second");this.valueFrom&&!r&&this.valueFrom.insertAdjacentHTML("afterbegin",Tooltip.getTemplate(i,n)),this.valueTo&&!s&&this.valueTo.insertAdjacentHTML("afterbegin",SecondTooltip.getTemplate(i,n))},e.getTemplate=function(t,e,n){void 0===t&&(t="horizontal"),void 0===e&&(e="orange");var i="knob";return n===o.VALUE_TO&&(i="second-knob"),'\n      <div\n        class="slider__knob\n        js-slider__'+i+"\n        slider__knob_"+t+"\n        slider__knob_"+e+'" \n        role="slider"\n        tabindex="0"\n      ></div>\n    '},e}(E),Knob=function(t){function Knob(){return null!==t&&t.apply(this,arguments)||this}return T(Knob,t),Knob.prototype.init=function(){t.prototype.init.call(this),this.addEventListeners()},Knob.prototype.update=function(e){t.prototype.update.call(this,e,o.VALUE_FROM_CHANGED)},Knob.prototype.handleKnobPointerDown=function(){t.prototype.handleKnobsPointerDown.call(this,o.VALUE_FROM_CHANGED)},Knob.prototype.handleKnobKeyDown=function(e){t.prototype.handleKnobsKeyDown.call(this,e,o.VALUE_FROM_CHANGED)},Knob.prototype.addEventListeners=function(){this.valueFrom&&(this.valueFrom.addEventListener("pointerdown",this.handleKnobPointerDown.bind(this)),this.valueFrom.addEventListener("keydown",this.handleKnobKeyDown.bind(this)))},Knob.getTemplate=function(e,n){return void 0===e&&(e="orange"),void 0===n&&(n="horizontal"),t.getTemplate.call(this,e,n,o.VALUE_FROM)},Knob}(O),SecondKnob=function(t){function SecondKnob(){return null!==t&&t.apply(this,arguments)||this}return T(SecondKnob,t),SecondKnob.prototype.init=function(){t.prototype.init.call(this),this.addEventListeners()},SecondKnob.prototype.update=function(e){t.prototype.update.call(this,e,o.VALUE_TO_CHANGED)},SecondKnob.prototype.handleSecondKnobPointerDown=function(){t.prototype.handleKnobsPointerDown.call(this,o.VALUE_TO_CHANGED)},SecondKnob.prototype.handleSecondKnobKeyDown=function(e){t.prototype.handleKnobsKeyDown.call(this,e,o.VALUE_TO_CHANGED)},SecondKnob.prototype.addEventListeners=function(){this.valueTo&&(this.valueTo.addEventListener("pointerdown",this.handleSecondKnobPointerDown.bind(this)),this.valueTo.addEventListener("keydown",this.handleSecondKnobKeyDown.bind(this)))},SecondKnob.getTemplate=function(e,n){return void 0===e&&(e="horizontal"),void 0===n&&(n="orange"),t.getTemplate.call(this,n,e,o.VALUE_TO)},SecondKnob}(O),w=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Labels=function(t){function Labels(){return null!==t&&t.apply(this,arguments)||this}return w(Labels,t),Labels.prototype.init=function(){if(!this.root.querySelector(".js-slider__scale"))throw new Error("Scale element is not found");if(this.state.labels){var t=this.root.querySelector(".js-slider__labels");t&&t.addEventListener("pointerdown",this.handleLabelsPointerDown.bind(this))}},Labels.prototype.handleLabelsPointerDown=function(t){if(t.target instanceof HTMLElement){var e=this.state,o=e.min,n=void 0===o?s.min:o,r=e.max,a=void 0===r?s.max:r,l=e.step,c=void 0===l?s.step:l,p=e.valueFrom,h=void 0===p?s.valueFrom:p,d=e.valueTo,f=void 0===d?s.valueTo:d,v=e.range,_=void 0===v?s.range:v,y=Number(t.target.dataset.value),E=u(n,a,c,y);if(100===y&&(E=a),_)E>=h+(f-h)/2?this.emit(i.VALUE_TO_CHANGED,E):this.emit(i.VALUE_FROM_CHANGED,E);else this.emit(i.VALUE_FROM_CHANGED,E)}},Labels.getTemplate=function(t,e,o,n){return void 0===t&&(t="horizontal"),void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=1),'\n      <div class="slider__labels\n        js-slider__labels\n        slider__labels_'+t+'"\n        data-id="labels"\n      >\n        '+this.getLabels(t,e,o,n)+"\n      </div>\n    "},Labels.getLabels=function(t,e,o,n){var i=this;void 0===t&&(t="horizontal"),void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=1);var r=[],s=[20,40,60,80];return(s=s.map((function(t){return u(e,o,n,t)})).concat(e,o).sort((function(t,e){return t-e}))).forEach((function(s){r.push(i.createLabel(t,s,e,o,n))})),r.join("")},Labels.createLabel=function(t,e,o,n,i){void 0===t&&(t="horizontal"),void 0===e&&(e=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i=1);var r="horizontal"===t?"left":"bottom",s=l({min:o,max:n,step:i},e).toFixed(2);return'\n      <div class="slider__labels-item" \n        style="'+r+": "+s+'%;"\n        data-value='+s+">\n        "+e+"\n      </div>\n    "},Labels}(E),L=Labels,C=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Scale=function(t){function Scale(){return null!==t&&t.apply(this,arguments)||this}return C(Scale,t),Scale.prototype.init=function(){this.root.innerHTML="",this.root.insertAdjacentHTML("afterbegin",this.getTemplate()),this.scaleNode=this.root.querySelector(".js-slider__scale"),this.addScaleElements()},Scale.prototype.handleScalePointerDown=function(t){if(this.isTarget(t)){var e=this.state,o=e.min,i=void 0===o?s.min:o,r=e.max,a=void 0===r?s.max:r,l=e.valueFrom,c=void 0===l?s.valueFrom:l,p=e.valueTo,h=void 0===p?s.valueTo:p,d=e.step,f=void 0===d?s.step:d,v=e.orientation,_=void 0===v?s.orientation:v,y=e.range,E=void 0===y?s.range:y,m=this.scaleNode?this.getCoords(this.scaleNode):{},b=this.getPageCoords(t),A=this.getPosition(_,m,b),T=u(i,a,f,A);if(E)T>=c+(h-c)/2?(this.emit(n.VALUE_TO_CHANGED,T.toFixed()),this.emit(n.TARGET_MAX_VALUE_TRIGGERED,t)):(this.emit(n.VALUE_FROM_CHANGED,T.toFixed()),this.emit(n.TARGET_TRIGGERED,t));else this.emit(n.VALUE_FROM_CHANGED,T.toFixed()),this.emit(n.TARGET_TRIGGERED,t)}},Scale.prototype.addScaleElements=function(){var t=this.state,e=t.color,o=t.orientation,n=t.fill,i=t.range,r=t.labels,s=t.min,a=t.max,l=t.step;this.scaleNode&&(this.scaleNode.addEventListener("pointerdown",this.handleScalePointerDown.bind(this)),this.scaleNode.insertAdjacentHTML("beforeend",Knob.getTemplate(e,o)),n&&this.scaleNode.insertAdjacentHTML("afterbegin",b.getTemplate(e,o)),i&&this.scaleNode.insertAdjacentHTML("beforeend",SecondKnob.getTemplate(e,o)),r&&this.scaleNode.insertAdjacentHTML("beforeend",L.getTemplate(o,s,a,l)))},Scale.prototype.isTarget=function(t){if(t.target instanceof HTMLElement)return"scale"===t.target.dataset.id||"fill"===t.target.dataset.id},Scale.prototype.getTemplate=function(){var t=this.state.orientation;return'\n      <div class="slider slider_'+t+'">\n        <div\n          class="slider__scale\n          js-slider__scale\n          slider__scale_'+t+'"\n          data-id="scale"\n        ></div>\n      </div>\n    '},Scale}(E),D=Scale,G=function(){function t(){}return t.prototype.createComponents=function(t,e){var o={};return[D,b,Knob,L,Tooltip].forEach((function(n){var i=new n(t,e);if(i){var r=c(i.constructor.name);o[r]=i}})),o},t}(),V=function(){function t(){}return t.prototype.createComponents=function(t,e){var o={};return[D,b,Knob,SecondKnob,Tooltip,SecondTooltip,L].forEach((function(n){var i=new n(t,e);if(i){var r=c(i.constructor.name);o[r]=i}})),o},t}(),R=function(){function t(){}return t.create=function(e){var o="range"===e?"range":"simple";return new(0,t.list[o])},t.list={simple:G,range:V},t}(),F=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j=function(t){function r(e,o){var n=t.call(this)||this;return n.root=e,n.init(o),n}return F(r,t),r.prototype.init=function(t){if(!t)throw new Error("options were not passed");this.type=t.range?"range":"simple";var e=R.create(this.type);this.components=e.createComponents(t,this.root),this.displaySlider(),this.bindEvents(),this.update(t)},r.prototype.update=function(t){Object.values(this.components).forEach((function(e){e&&e.update(t)}))},r.prototype.displaySlider=function(){Object.values(this.components).forEach((function(t){t&&t.init()}))},r.prototype.bindEvents=function(){this.bindScaleEvents(),this.bindKnobsEvents(),this.bindLabelsEvents()},r.prototype.bindScaleEvents=function(){var t=this;this.components.scale&&(this.components.scale.subscribe(n.VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),this.components.scale.subscribe(n.VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)})),this.components.scale.subscribe(n.TARGET_TRIGGERED,(function(){t.components.knob&&t.components.knob.handleKnobPointerDown()})),this.components.scale.subscribe(n.TARGET_MAX_VALUE_TRIGGERED,(function(){t.components.secondKnob&&t.components.secondKnob.handleSecondKnobPointerDown()})))},r.prototype.bindKnobsEvents=function(){var t=this;this.components.knob&&this.components.knob.subscribe(o.VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),"range"===this.type&&this.components.secondKnob&&this.components.secondKnob.subscribe(o.VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)}))},r.prototype.bindLabelsEvents=function(){var t=this;this.components.labels&&(this.components.labels.subscribe(i.VALUE_FROM_CHANGED,(function(o){return t.emit(e.VALUE_FROM_CHANGED,o)})),this.components.labels.subscribe(i.VALUE_TO_CHANGED,(function(o){return t.emit(e.VALUE_TO_CHANGED,o)})))},r}(a),N=function(){function o(t){this.root=t,this.model=new v,this.view=new j(t,this.model.state),this.bindModelEvents(),this.bindViewEvents()}return o.prototype.bindModelEvents=function(){var e=this;this.model.subscribe(t.STATE_CHANGED,(function(t){t instanceof Object&&e.view.init(t),e.customEvent()})),this.model.subscribe(t.VALUE_CHANGED,(function(t){t instanceof Object&&e.view.update(t),e.customEvent()}))},o.prototype.bindViewEvents=function(){var t=this;this.view.subscribe(e.VALUE_FROM_CHANGED,(function(e){t.model.setValue("valueFrom",Number(e))})),this.view.subscribe(e.VALUE_TO_CHANGED,(function(e){t.model.setValue("valueTo",Number(e))}))},o.prototype.customEvent=function(){this.root.dispatchEvent(new CustomEvent("onChange",{detail:this.model.state}))},o}(),H={init:function(t){return this.each((function(){($(this).data().sliderPlugin=new N(this),t)&&$(this).data("sliderPlugin").model.setState(t)}))},getState:function(){return $(this).data("sliderPlugin").model.getState()},setValue:function(t,e){$(this).data("sliderPlugin").model.setValue(""+t,e)},onChange:function(t){$(this).on("onChange",(function(e){return t(e)}))}};$.fn.sliderPlugin=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(H[t])return H[t].apply(this,e);if("object"==typeof t||!t){var n=t||{};return H.init.call(this,n)}$.error("Метод с именем "+t+" не существует")}}();